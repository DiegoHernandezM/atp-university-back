import{r as c,W as C,j as e}from"./app-Dkk80x56.js";import{r as n}from"./index-CAoa_Lfd.js";import{M as m}from"./index-HPKVUewT.js";import L from"./WelcomePage-C-bg18An.js";import"./PrincipalVideo-COL-Gf_8.js";import"./proxy-Nt6A4AUm.js";m.setAppElement("#app");function B({landingData:o,onSuccess:u}){const[r,h]=c.useState(null),[f,a]=c.useState(!1),[s,i]=c.useState({title:"",section1_video:null,section1_video_description:"",type:"",section:""}),{setData:g,post:v,processing:x}=C();c.useEffect(()=>{i({...s,title:(o==null?void 0:o.title)||"",section1_video:(o==null?void 0:o.section1_video)||null,section1_video_description:(o==null?void 0:o.section1_video_description)||"",section:"welcome"})},[o]),c.useEffect(()=>{g({title:(s==null?void 0:s.title)||"",section1_video:r,section1_video_description:(s==null?void 0:s.section1_video_description)||"",section:"welcome"})},[s,r]);const j=l=>{const t=l.target.files[0];if(t){r!=null&&r.url&&URL.revokeObjectURL(r.url);const p=URL.createObjectURL(t);h({url:p,file:t,type:t.type}),i(w=>({...w,section1_video:p,type:t.type}))}},_=()=>{a(!0)},d=()=>{a(!1)},b=l=>{i(t=>({...t,title:l.target.value}))},y=l=>{i(t=>({...t,section1_video_description:l.target.value}))},N=l=>{l.preventDefault();const t=new FormData;t.append("title",s.title),t.append("section1_video_description",s.section1_video_description),r&&t.append("section1_video",r.file),v("/landing",{data:t,preserveScroll:!0,onFinish:()=>{u("Landing Page actualizada correctamente."),a(!1)}})};return e.jsx("section",{className:"border p-4",children:e.jsxs("header",{children:[e.jsx("div",{children:e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Actualiza la información de tu Landing Page."})}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n.Typography,{variant:"h6",color:"blue-gray",className:"mb-1",children:"Título"}),e.jsx(n.Input,{name:"title",placeholder:"Título de página",id:"title",value:s.title,onChange:b,className:"!border-t-blue-gray-200 focus:!border-t-gray-900 w-full",labelProps:{className:"before:content-none after:content-none"}})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n.Typography,{variant:"h6",color:"blue-gray",className:"mb-1",children:"Descripción"}),e.jsx(n.Input,{name:"description",placeholder:"Descripción",id:"description",value:s.section1_video_description,onChange:y,className:"!border-t-blue-gray-200 focus:!border-t-gray-900 w-full",labelProps:{className:"before:content-none after:content-none"}})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(n.Typography,{variant:"h6",color:"blue-gray",className:"mb-1",children:"Agrega un Video, Imagen o GIF"}),e.jsx("input",{type:"file",name:"section1_file",id:"section1_file",className:"hidden",accept:"video/*, image/*",onChange:j})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[e.jsx(n.Button,{size:"sm",variant:"gradient",className:"rounded-full flex items-center gap-3",onClick:()=>document.getElementById("section1_file").click(),children:"Seleccionar Archivo"}),e.jsx(n.Button,{size:"sm",variant:"gradient",className:"rounded-full flex items-center gap-3",onClick:_,children:"Previsualizar"})]}),e.jsxs(m,{isOpen:f,onRequestClose:d,contentLabel:"Previsualización de Archivo",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"95%",maxWidth:"1200px",height:"auto",maxHeight:"700px",padding:"50px",overflowY:"auto"}},children:[e.jsx("div",{className:"absolute top-2 right-2 z-50",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"mr-3 h-10 w-10 cursor-pointer hover:scale-110 transition-transform duration-200",onClick:d,children:e.jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"})})}),e.jsx("br",{}),e.jsx("div",{className:"mt-8",children:e.jsx(L,{landingData:s,fixedNav:!1,isPrev:!0})}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-4",children:[e.jsx(n.Button,{onClick:d,children:"Cerrar"}),e.jsx(n.Button,{onClick:N,disabled:x,children:"Guardar"})]})]})]})})}export{B as default};
