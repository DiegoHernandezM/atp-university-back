import{r as n,W as N,j as e}from"./app-Dkk80x56.js";import{r as c}from"./index-CAoa_Lfd.js";import{M as h}from"./index-HPKVUewT.js";import w from"./ContactPage-CqtfsL-H.js";import"./Contact-BP3e67Lb.js";import"./InputError-B4DMRjhS.js";import"./InputLabel-DRh5EMDY.js";import"./TextInput-CLGQmMFw.js";h.setAppElement("#app");function P({landingData:t,onSuccess:x}){const[f,l]=n.useState(!1),{setData:g,post:v,processing:y}=N(),m=typeof(t==null?void 0:t.section7_contact)=="string"?JSON.parse(t.section7_contact):t.section7_contact,[r,p]=n.useState({section7_contact:Array.isArray(m)?m:[{address:"",phone:"",email:""}],section:""});n.useEffect(()=>{if(t){const o=typeof t.section7_contact=="string"?JSON.parse(t.section7_contact):t.section7_contact;p({section7_contact:Array.isArray(o)?o:[{address:"",phone:"",email:""}],section:"contact"})}},[t]),n.useEffect(()=>{g({section7_contact:r.section7_contact,section:"contact"})},[r]);const j=()=>{l(!0)},i=()=>{l(!1)},d=(o,s,a)=>{const u=[...r.section7_contact];u[o][s]=a,p(C=>({...C,section7_contact:u}))},b=o=>{o.preventDefault();const s=new FormData;s.append("section7_contact",JSON.stringify(r.section7_contact)),v("/landing",{data:s,preserveScroll:!0,onFinish:()=>{console.log("Formulario enviado con éxito"),l(!1),window.scrollTo({top:0,behavior:"smooth"}),x("Landing Page actualizada correctamente.")}})};return e.jsx("section",{className:"border p-4 md:p-8 lg:p-12",children:e.jsxs("header",{children:[e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Agrega información de Contacto."}),e.jsx("br",{}),r.section7_contact.map((o,s)=>e.jsxs("div",{className:"border p-4 md:p-6 lg:p-8 rounded-md mb-4 space-y-2",children:[e.jsx(c.Typography,{variant:"h6",color:"blue-gray",className:"mb-1",children:"Dirección"}),e.jsx("input",{type:"text",value:o.address??"",onChange:a=>d(s,"address",a.target.value),className:"mt-1 block w-full border-gray-300 rounded-md"}),e.jsx(c.Typography,{variant:"h6",color:"blue-gray",className:"mb-1",children:"Telefono"}),e.jsx("input",{type:"text",value:o.phone??"",onChange:a=>d(s,"phone",a.target.value),className:"mt-1 block w-full border-gray-300 rounded-md"}),e.jsx(c.Typography,{variant:"h6",color:"blue-gray",className:"mb-1",children:"Email"}),e.jsx("input",{type:"text",value:o.email??"",onChange:a=>d(s,"email",a.target.value),className:"mt-1 block w-full border-gray-300 rounded-md"})]},s)),e.jsx("div",{className:"mt-4 flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:e.jsx("div",{className:"mt-6",children:e.jsx(c.Button,{size:"sm",variant:"gradient",onClick:j,children:"Previsualizar"})})}),e.jsxs(h,{isOpen:f,onRequestClose:i,contentLabel:"Previsualizar",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"95%",maxWidth:"1200px",height:"auto",maxHeight:"700px",padding:"50px",overflowY:"auto"}},children:[e.jsx("div",{className:"absolute top-3 right-2 z-50",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"mr-3 h-10 w-10 cursor-pointer hover:scale-110 transition-transform duration-200",onClick:i,children:e.jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"})})}),e.jsx(w,{landingData:r.section7_contact,isPrev:!0}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-4",children:[e.jsx(c.Button,{onClick:i,children:"Cerrar"}),e.jsx(c.Button,{onClick:b,disabled:y,children:"Guardar"})]})]})]})})}export{P as default};
