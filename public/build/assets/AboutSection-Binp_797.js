import{r as l,W as L,j as e}from"./app-Dkk80x56.js";import{r as i}from"./index-CAoa_Lfd.js";import{M as u}from"./index-HPKVUewT.js";import k from"./AboutPage-D3pYjEcR.js";import"./Flip-DCQDokVg.js";import"./MisionVision-DapeNgLZ.js";import"./TextInput-CLGQmMFw.js";u.setAppElement("#app");function B({landingData:n,onSuccess:p}){const[r,h]=l.useState(null),[g,m]=l.useState(!1),[s,a]=l.useState({section3_image:"",section3_about:"",section3_mission:"",section3_vision:"",type:"",section:""}),{setData:x,post:b,processing:v}=L();l.useEffect(()=>{a(t=>({...t,section3_image:(n==null?void 0:n.section3_image)||null,section3_about:(n==null?void 0:n.section3_about)||"",section3_mission:(n==null?void 0:n.section3_mission)||"",section3_vision:(n==null?void 0:n.section3_vision)||"",section:"about"}))},[n]),l.useEffect(()=>{x({section3_about:(s==null?void 0:s.section3_about)||"",section3_mission:(s==null?void 0:s.section3_mission)||"",section3_vision:(s==null?void 0:s.section3_vision)||"",section3_image:r||null,section:"about"})},[s,r]);const f=t=>{const o=t.target.files[0];if(o){r!=null&&r.url&&URL.revokeObjectURL(r.url);const c=URL.createObjectURL(o);h({url:c,file:o,type:o.type}),a(C=>({...C,section3_image:c,type:o.type}))}},_=()=>{m(!0)},d=()=>{m(!1)},j=t=>{const o=t.target.value;a(c=>({...c,section3_about:o}))},y=t=>{const o=t.target.value;a(c=>({...c,section3_mission:o}))},N=t=>{const o=t.target.value;a(c=>({...c,section3_vision:o}))},w=t=>{t.preventDefault();const o=new FormData;o.append("section3_vision",s.section3_vision),o.append("section3_mission",s.section3_mission),o.append("section3_about",s.section3_about),r&&o.append("section3_image",r.file),b("/landing",{data:o,preserveScroll:!0,onFinish:()=>{console.log("Formulario enviado con éxito"),m(!1),window.scrollTo({top:0,behavior:"smooth"}),p("Landing Page actualizada correctamente.")}})};return e.jsx("section",{className:"border p-4",children:e.jsxs("header",{children:[e.jsx("div",{children:e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Actualiza la información de tu Misión y Visión."})}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i.Typography,{variant:"h6",color:"blue-gray",className:"mb-1",children:"Sobre Nosotros"}),e.jsx(i.Input,{name:"section3_about",placeholder:"Nosotros",id:"section3_about",value:s.section3_about,onChange:j,className:"!border-t-blue-gray-200 focus:!border-t-gray-900 w-full",labelProps:{className:"before:content-none after:content-none"}})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i.Typography,{variant:"h6",color:"blue-gray",className:"mb-1",children:"Misión"}),e.jsx(i.Input,{name:"section3_mission",placeholder:"Escribe tu misión",id:"section3_mission",value:s.section3_mission,onChange:y,className:"!border-t-blue-gray-200 focus:!border-t-gray-900 w-full",labelProps:{className:"before:content-none after:content-none"}})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i.Typography,{variant:"h6",color:"blue-gray",className:"mb-1",children:"Visión"}),e.jsx(i.Input,{name:"section3_vision",placeholder:"Escribe tu visión",id:"section3_vision",value:s.section3_vision,onChange:N,className:"!border-t-blue-gray-200 focus:!border-t-gray-900 w-full",labelProps:{className:"before:content-none after:content-none"}})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(i.Typography,{variant:"h6",color:"blue-gray",className:"mb-1",children:"Agregar imagen"}),e.jsx("input",{type:"file",name:"section3_image",id:"section3_image",className:"hidden",accept:"image/*",onChange:f})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[e.jsxs(i.Button,{size:"sm",variant:"gradient",className:"rounded-full flex items-center gap-3",onClick:()=>document.getElementById("section3_image").click(),children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-5 w-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})}),"Seleccionar Archivo"]}),e.jsx(i.Button,{size:"sm",variant:"gradient",className:"rounded-full flex items-center gap-3",onClick:_,children:"Previsualizar"})]}),e.jsxs(u,{isOpen:g,onRequestClose:d,contentLabel:"Previsualización de Archivo",style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"100%",maxWidth:"1000px",height:"auto",maxHeight:"700px"}},children:[e.jsx("div",{className:"absolute top-2 right-2 z-50",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"mr-3 h-10 w-10 cursor-pointer hover:scale-110 transition-transform duration-200",onClick:d,children:e.jsx("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"})})}),e.jsx("br",{}),e.jsx("div",{className:"mt-8",children:e.jsx(k,{landingData:s,isPrev:!0})}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-4",children:[e.jsx(i.Button,{onClick:d,children:"Cerrar"}),e.jsx(i.Button,{onClick:w,disabled:v,children:"Guardar"})]})]})]})})}export{B as default};
